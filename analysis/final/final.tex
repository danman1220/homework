%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Short Sectioned Assignment
% LaTeX Template
% Version 1.0 (5/5/12)
%
% This template has been downloaded from:
% http://www.LaTeXTemplates.com
%
% Original author:
% Frits Wenneker (http://www.howtotex.com)
%
% License:
% CC BY-NC-SA 3.0 (http://creativecommons.org/licenses/by-nc-sa/3.0/)
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%----------------------------------------------------------------------------------------
%	PACKAGES AND OTHER DOCUMENT CONFIGURATIONS
%----------------------------------------------------------------------------------------

\documentclass[fontsize=11pt]{scrartcl} % 11pt font size

\usepackage[T1]{fontenc} % Use 8-bit encoding that has 256 glyphs
\usepackage[english]{babel} % English language/hyphenation
\usepackage{amsmath,amsfonts,amsthm} % Math packages
\usepackage{mathrsfs}

\usepackage[margin=1in]{geometry}

\usepackage{sectsty} % Allows customizing section commands
\allsectionsfont{\centering \normalfont\scshape} % Make all sections centered, the default font and small caps

\usepackage{fancyhdr} % Custom headers and footers
\pagestyle{fancyplain} % Makes all pages in the document conform to the custom headers and footers
\fancyhead{} % No page header - if you want one, create it in the same way as the footers below
\fancyfoot[L]{} % Empty left footer
\fancyfoot[C]{} % Empty center footer
\fancyfoot[R]{\thepage} % Page numbering for right footer
\renewcommand{\headrulewidth}{0pt} % Remove header underlines
\renewcommand{\footrulewidth}{0pt} % Remove footer underlines
\setlength{\headheight}{13.6pt} % Customize the height of the header

\numberwithin{equation}{section} % Number equations within sections (i.e. 1.1, 1.2, 2.1, 2.2 instead of 1, 2, 3, 4)
\numberwithin{figure}{section} % Number figures within sections (i.e. 1.1, 1.2, 2.1, 2.2 instead of 1, 2, 3, 4)
\numberwithin{table}{section} % Number tables within sections (i.e. 1.1, 1.2, 2.1, 2.2 instead of 1, 2, 3, 4)

\newcommand{\R}{\mathbb{R}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\C}{\mathbb{C}}

\newtheorem*{lemma}{Lemma}
%----------------------------------------------------------------------------------------
%	TITLE SECTION
%----------------------------------------------------------------------------------------

\newcommand{\horrule}[1]{\rule{\linewidth}{#1}} % Create horizontal rule command with 1 argument of height

\title{	
\normalfont \normalsize 
\textsc{Analysis} \\ [25pt] % Your university, school and/or department name(s)
\horrule{0.5pt} \\[0.4cm] % Thin top horizontal rule
\huge Final Exam \\ % The assignment title
\horrule{2pt} \\[0.5cm] % Thick bottom horizontal rule
}

\author{Daniel Halmrast} % Your name

\date{\normalsize\today} % Today's date or a custom date

\begin{document}

\maketitle % Print the title

Signature:
\\
\\
\\

\section*{Problem 1}
For every $n\in\N$, let $\mu_n$ be a measure on $(\Omega,\mathscr{A})$ with
$\mu_n(\Omega)=1$. For every $E\in\mathscr{A}$, define
\[
    \mu(E) = \sum_{n=1}^{\infty}\frac{\mu_n(E)}{2^n}
\]
Give a careful proof that $\mu$ is a measure on $(\omega,\mathscr{A})$ with
$\mu(\Omega)=1$.
\\
\begin{proof}
    We wish to prove that $\mu$ is a measure on $(\Omega,\mathscr{A})$. That is,
    we wish to show that that $\mu(\emptyset) = 0$, that $\mu(E)\geq 0$ for all
    $E\in\mathscr{A}$, and that for a countable collection of disjoint sets
    $\{E_j\}_{j=1}^{\infty}$ for which $E_j\in\mathscr{A}$ for all $j$,
    \[
        \mu\left(\bigcup_{j=1}^{\infty}E_j\right) = \sum_{j=1}^{\infty}\mu(E_j)
    \]

    To begin with, we note that since each $\mu_n$ is a measure, we have that
    $\mu_n(\emptyset) = 0$.
    Thus,
    \[
        \begin{aligned}
            \mu(\emptyset)  &= \sum_{n=1}^{\infty}\frac{\mu_n(\emptyset)}{2^n}\\
                            &= \sum_{n=1}^{\infty}\frac{0}{2^n}\\
                            &=0
        \end{aligned}
    \]
    as desired.
    \\
    \\
    Next, we note that since each $\mu_n$ is a measure, $\mu_n(E)\geq 0$ for all
    $E\in\mathscr{A}$. Thus, since both $\mu_n(E)$ and $2^n$ are greater than
    zero for each $n$, it must be that 
    \[
        \mu(E) = \sum_{n=1}^{\infty}\frac{\mu_n(E)}{2^n} \geq 0
    \]
    as desired.
    \\
    \\
    To show that $\mu$ is countably additive, we first prove the following lemma:
    \begin{lemma}
        For a doubly indexed sequence $\{a_{ij}\}$ of positive numbers,
        \[
            \sum_{i=1}^{\infty}\sum_{j=1}^{\infty}a_{ij} =
            \sum_{j=1}^{\infty}\sum_{i=1}^{\infty}a_{ij}
        \]
        provided that either sum converges.
    \end{lemma}
    \begin{proof}
        We note first that $a_{ij}$ can be thought of as a function from
        $\N\times \N$ to $\R$. 
        
        Now, Tonelli's theorem tells us that for any positive function
        $f:\Omega\times\Sigma\to\R$ on the product space $\Omega\times\Sigma$
        of $\sigma$-finite measure spaces $(\Omega,\mathscr{A},\mu)$ and
        $(\Sigma,\mathscr{B},\nu)$ such that $f$ is measurable with respect to
        $\mathscr{A}\otimes\mathscr{B}$, we have that
        \[
            \int_{\Omega}\left(\int_{\Sigma}f(x,y)d\nu(y)\right)d\mu(x) =
            \int_{\Sigma}\left(\int_{\Omega}f(x,y)d\mu(x)\right)d\nu(y)
        \]

        Now, consider the case where $\Omega = \Sigma = \N$, $\mathscr{A} =
        \mathscr{B} = 2^{\N}$, and $\mu = \nu = \mu_c$ the counting measure.
        The function $a_{ij}$ from $\N\times\N\to\R$ is positive (by
        hypothesis), and is measurable on $2^{\N}\otimes 2^{\N} =
        2^{\N\times\N}$, since every function is measurable with respect to this
        $\sigma$-algebra. Thus, applying Tonelli's theorem yields
        \[
            \begin{aligned}
                \sum_{i=1}^{\infty}\left(\sum_{j=1}^{\infty}a_{ij}\right) &=
                \int_{\N}\left(\int_{\N}a_{ij}d\mu_c(j)\right)d\mu_c(i)\\
                &= \int_{\N}\left(\int_{\N}a_{ij}d\mu_c(i)\right)d\mu_c(j)\\
                &=\sum_{j=1}^{\infty}\left(\sum_{i=1}^{\infty}a_{ij}\right)
            \end{aligned}
        \]
        as desired.
    \end{proof}
    Equipped with this result, we now prove that $\mu$ is countably additive.
    To do so, let $\{E_j\}_{j=1}^{\infty}$ be a countable collection of disjoint
    measurable sets. Now, we know by the fact that each $\mu_n$ is a measure
    that
    \[
        \mu_n\left(\bigcup_{j=1}^{\infty}E_j\right) = \sum_{j=1}^{\infty}\mu_n(E_j)
    \]
    Thus, we have
    \[
        \begin{aligned}
            \mu\left(\bigcup_{j=1}^{\infty}E_j\right) &=
            \sum_{n=1}^{\infty}\frac{1}{2^n}\mu_n\left(\bigcup_{j=1}^{\infty}E_j\right)\\
            &=\sum_{n=1}^{\infty}\sum_{j=1}^{\infty}\frac{1}{2^n}\mu_n(E_j)
        \end{aligned}
    \]
    We apply the above lemma to get
    \[
        \begin{aligned}
            \sum_{n=1}^{\infty}\sum_{j=1}^{\infty}\frac{1}{2^n}\mu_n(E_j)
            &= \sum_{j=1}^{\infty}\sum_{n=1}^{\infty}\frac{1}{2^n}\mu_n(E_j)\\
            &=\sum_{j=1}^{\infty}\mu(E_j)
        \end{aligned}
    \]
    as desired.
    \\
    \\
    Finally, we wish to show that $\mu(\Omega) = 1$. This follows from direct
    computation (observing that $\mu_n(\Omega)=1$ for all $n$):
    \[
        \begin{aligned}
            \mu(\Omega) &= \sum_{n=1}^{\infty}\frac{\mu_n(\Omega)}{2^n}\\
            &= \sum_{n=1}^{\infty}\frac{1}{2^n}\\
            &= \frac{1}{1-\frac{1}{2}}-1\\
            &=1
        \end{aligned}
    \]
    as desired. Here, we used the standard formula for a geometric series
    \[
        \sum_{n=1}^{\infty}a^n = \frac{1}{1-a}-1
    \]
    for $0<a<1$.
\end{proof}

\newpage

\section*{Problem 2}
Suppose $\mu(\Omega)<\infty$. Prove that
\[
    \lim_{p\to\infty} \|f\|_{L^p} = \|f\|_{L^{\infty}}
\]

\begin{proof}
    We note first that the trivial case of $\|f\|_{L^{\infty}} = 0$ is clear,
    since 
    \[
        \begin {aligned}
        \|f\|_{L^{\infty}}=0 &\implies f = 0\ \mu-\textrm{almost everywhere}\\
                            &\implies \|f\|_{L^p}=0\ \forall p\\
                            &\implies \lim_{p\to\infty}\|f\|_{L^p} = 0
\end{aligned}
    \]
    Therefore, for the rest of this problem, it is assumed that
    $\|f\|_{L^{\infty}}>0$.


    Suppose first that $\|f\|_{L^{\infty}} < \infty$. Then, we are free to scale
    $f$ so that $\|f\|_{L^{\infty}}=1$. (This is clear, since
    \[
        \lim_{p\to\infty}\|cf\|_{L^p} = c\lim_{p\to\infty}\|f\|_{L^p}
    \]
    so
    \[
        \lim_{p\to\infty}\|cf\|_{L^p} = \|cf\|_{L^{\infty}}
        \iff
        \lim_{p\to\infty}\|f\|_{L^p} = \|f\|_{L^{\infty}}
    \]
    and so multiplying $f$ by a constant will not change the equality.)

    So, without loss of generality, let $\|f\|_{L^{\infty}} = 1$.
    We will show first that
    \[
        \lim_{p\to\infty}\|f\|_{L^p} \leq 1
    \]
    To do so, we consider the altered function
    \[
        \tilde{f}(x) = \begin{cases}
            f(x), &\textrm{if } f(x) \leq \|f\|_{L^\infty}\\
            0, &\textrm{if } f(x) > \|f\|_{L^\infty}
        \end{cases}
    \]
    Now, we know that $\mu\{|f| > \|f\|_{L^{\infty}}\} = 0$ by the definition of
    the $L^{\infty}$ norm, so it follows that $\tilde{f}$ and $f$ differ only on
    a set of measure zero, and thus are in the same equivalence class in $L^p$
    for all $p$.

    Now, we have that $\tilde{f} \leq \|f\|_{L^{\infty}} = 1$, and thus
    $\tilde{f}^p\leq 1$ for all $p\geq 1$. Therefore,
    \[
        \begin{aligned}
            \int_{\Omega}|\tilde{f}(x)|^pd\mu &\leq \int_{\Omega}1d\mu\\
                                            &=\mu(\Omega)\\
        \end{aligned}
    \]
    which implies that
    \[
        \begin{aligned}
        \|f\|_{L^p} &=
        \left(\int_{\Omega}|\tilde{f}(x)|^pd\mu\right)^{\frac{1}{p}}\\
            &\leq (\mu(\Omega))^{\frac{1}{p}}
        \end{aligned}
    \]
    and for $\mu(\Omega)<\infty$, we have that
    $\lim_{p\to\infty}(\mu(\Omega))^{\frac{1}{p}} = 1$.
    Thus,
    \[
        \lim_{p\to\infty}\|f\|_{L^p} \leq 1
    \]
    as desired.

    Now, we wish to show the reverse. That is, we wish to show that
    \[
        \lim_{p\to\infty}\|f\|_{L^p} \geq \|f\|_{L^{\infty}}
    \]
    To do so, we consider the set $\{|f|>1-\epsilon\}$, which has positive
    measure for every $\epsilon>0$ by the fact that $\|f\|_{L^{\infty}} = 1$.
    Thus, we know that
    \[
        \begin{aligned}
            \|f\|_{L^p} &=\left(\int_{\Omega}|f|^pd\mu\right)^{\frac{1}{p}}\\
                        &\geq
                        \left(\int_{|f|>1-\epsilon}|1-\epsilon|^pd\mu\right)^{\frac{1}{p}}\\
                        &=((1-\epsilon)\mu(\{|f|>1-\epsilon\}))^{\frac{1}{p}}
        \end{aligned}
    \]
    Since $\lim_{p\to\infty}((1-\epsilon)\mu(\{|f|>1-\epsilon\}))^{\frac{1}{p}}
    = 1$, it follows that
    \[
        \lim_{p\to\infty}\|f\|_{L^p} \geq 1
    \]
    as desired.

    Thus, for $\|f\|_{L^{\infty}} < \infty$, we have that
    \[
        \lim_{p\to\infty}\|f\|_{L^p} = \|f\|_{L^{\infty}}
    \]
    as desired.

    So, suppose $\|f\|_{L^{\infty}} = \infty$. That is, for each $M>0$,
    $\mu(\{|f|>M\})>0$. Thus,
    \[
        \begin{aligned}
            \|f\|_{L^p} &= \left(\int_{\Omega}|f|^pd\mu\right)^{\frac{1}{p}}\\
                        &\geq \left(\int_{|f|>M}M^pd\mu\right)^{\frac{1}{p}}\\
                        &= \left(M^p\mu(\{f>M\})\right)^{\frac{1}{p}}\\
                        &= M(\mu(\{|f|>M\}))^{\frac{1}{p}}
        \end{aligned}
    \]
    We know already that $\lim_{p\to\infty}(\mu(\{|f|>M\}))^{\frac{1}{p}} = 1$,
    so it follows that
    \[
        \lim_{p\to\infty}\|f\|_{L^p} \geq M(1) = M
    \]
    Since $M$ was arbitrary, it follows that
    \[
        \lim_{p\to\infty}\|f\|_{L^p} = \infty
    \]
    as desired.
\end{proof}
\end{document}
